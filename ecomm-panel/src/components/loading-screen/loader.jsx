import { useState, useEffect } from "react";
import { Box } from "@mui/material";
import { cn } from "src/lib/style-utils";

const Icon1 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 380.09 436.56"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="372.59 323.67 372.59 112.89 190.04 7.5 7.5 112.89 7.5 323.67 190.04 429.06 372.59 323.67"
    />
    <path
      className="st0"
      d="M94.23,163.21l95.8,55.06,95.8-55.06M190.04,328.39v-110.11M289.14,174.22c0-3.86-1.02-7.65-2.96-11-1.93-3.34-4.71-6.12-8.06-8.05l-77.08-44.05c-3.35-1.93-7.15-2.95-11.01-2.95s-7.66,1.02-11.01,2.95l-77.08,44.05c-3.34,1.93-6.12,4.71-8.06,8.05-1.93,3.34-2.95,7.14-2.96,11v88.09c0,3.86,1.02,7.65,2.96,11,1.93,3.34,4.71,6.12,8.06,8.05l77.08,44.05c3.35,1.93,7.15,2.95,11.01,2.95s7.66-1.02,11.01-2.95l77.08-44.05c3.34-1.93,6.12-4.71,8.06-8.05,1.93-3.34,2.95-7.14,2.96-11v-88.09Z"
    />
  </Box>
);

const Icon2 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 422.2 422.2"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="156.55 7.5 7.5 156.55 62.05 360.15 265.65 414.7 414.7 265.65 360.15 62.05 156.55 7.5"
    />
    <path
      className="st0"
      d="M148.78,234.35v-26.71c0-2.36.94-4.63,2.61-6.3,1.67-1.67,3.93-2.61,6.29-2.61h106.83c2.36,0,4.63.94,6.29,2.61,1.67,1.67,2.61,3.93,2.61,6.3v26.71M211.1,198.74v-35.61M255.61,234.35h35.61c4.92,0,8.9,3.99,8.9,8.9v35.61c0,4.92-3.99,8.9-8.9,8.9h-35.61c-4.92,0-8.9-3.99-8.9-8.9v-35.61c0-4.92,3.99-8.9,8.9-8.9ZM130.98,234.35h35.61c4.92,0,8.9,3.99,8.9,8.9v35.61c0,4.92-3.99,8.9-8.9,8.9h-35.61c-4.92,0-8.9-3.99-8.9-8.9v-35.61c0-4.92,3.99-8.9,8.9-8.9ZM193.29,109.71h35.61c4.92,0,8.9,3.99,8.9,8.9v35.61c0,4.92-3.99,8.9-8.9,8.9h-35.61c-4.92,0-8.9-3.99-8.9-8.9v-35.61c0-4.92,3.99-8.9,8.9-8.9Z"
    />
  </Box>
);

const Icon3 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 436.56 380.09"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="323.67 7.5 112.89 7.5 7.5 190.04 112.89 372.59 323.67 372.59 429.06 190.04 323.67 7.5"
    />
    <path
      className="st0"
      d="M218.28,252.85l-39.84,23.88c-3.12,1.88-6.7,2.87-10.34,2.87s-7.22-.99-10.34-2.87l-30.11-18.06c-2.96-1.78-5.42-4.29-7.12-7.3-1.71-3.01-2.61-6.4-2.61-9.86v-32.52c0-3.46.91-6.85,2.61-9.86,1.71-3.01,4.16-5.52,7.12-7.3l40.44-24.29M218.28,252.85v-55.2M218.28,252.85l39.84,23.88c3.12,1.88,6.7,2.87,10.34,2.87s7.22-.99,10.34-2.87l30.11-18.06c2.96-1.78,5.42-4.29,7.12-7.3,1.7-3.01,2.6-6.4,2.61-9.86v-32.52c0-3.46-.91-6.85-2.61-9.86-1.71-3.01-4.16-5.52-7.12-7.3l-40.45-24.29M218.28,197.66l-50.18-30.11M218.28,197.66l-50.18,30.11M218.28,197.66l50.18-30.11M218.28,197.66l50.18,30.11M218.28,197.66v-55.2M168.1,167.55v-43.86c0-3.46.91-6.85,2.61-9.86,1.71-3.01,4.16-5.52,7.12-7.3l30.11-18.06c3.12-1.88,6.7-2.87,10.34-2.87s7.22.99,10.34,2.87l30.11,18.06c2.96,1.78,5.42,4.3,7.12,7.3,1.71,3.01,2.61,6.4,2.61,9.86v43.86M168.1,227.76l-47.57-28.6M168.1,227.76v51.89M268.46,227.76l47.57-28.6M268.46,227.76v51.89M218.28,142.46l-47.57-28.6M218.28,142.46l47.57-28.6"
    />
  </Box>
);

const Icon4 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 422.2 422.2"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="414.7 156.55 265.65 7.5 62.05 62.05 7.5 265.65 156.55 414.7 360.15 360.15 414.7 156.55"
    />
    <path
      className="st0"
      d="M285.72,149.59c0,14.55-35.38,26.34-79.01,26.34s-79.01-11.79-79.01-26.34M285.72,149.59c0-14.55-35.38-26.34-79.01-26.34s-79.01,11.79-79.01,26.34M285.72,149.59v26.34M127.7,149.59v122.91c-.05,4.22,2.95,8.39,8.74,12.14,5.79,3.75,14.2,6.99,24.53,9.44,10.33,2.44,22.27,4.02,34.81,4.61,12.54.58,25.33.15,37.27-1.25M285.72,211.05l-26.34,43.9h35.12l-26.34,43.9M127.7,211.05c.01,4.1,2.9,8.15,8.44,11.82,5.54,3.67,13.57,6.85,23.45,9.3,9.88,2.45,21.35,4.09,33.48,4.8,12.13.71,24.59.46,36.38-.72"
    />
  </Box>
);

const Icon5 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 380.09 436.56"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="372.59 323.67 372.59 112.89 190.04 7.5 7.5 112.89 7.5 323.67 190.04 429.06 372.59 323.67"
    />
    <path
      className="st0"
      d="M124.93,189.46h-34.29M124.93,247.11h-34.29M289.44,189.46h-34.29M289.44,247.11h-34.29M218.87,153.17v-34.29M161.22,153.17v-34.29M218.87,317.68v-34.29M161.22,317.68v-34.29M135.25,153.17h109.59c5.7,0,10.31,4.62,10.31,10.31v109.59c0,5.7-4.62,10.31-10.31,10.31h-109.59c-5.7,0-10.31-4.62-10.31-10.31v-109.59c0-5.7,4.62-10.31,10.31-10.31ZM169.29,187.22h41.62c5.7,0,10.31,4.62,10.31,10.31v41.62c0,5.7-4.62,10.31-10.31,10.31h-41.62c-5.7,0-10.31-4.62-10.31-10.31v-41.62c0-5.7,4.62-10.31,10.31-10.31Z"
    />
  </Box>
);

const Icon6 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 422.2 422.2"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="156.55 7.5 7.5 156.55 62.05 360.15 265.65 414.7 414.7 265.65 360.15 62.05 156.55 7.5"
    />
    <g>
      <path
        className="st0"
        d="M246.27,204.07c-1.86,1.86-2.91,4.39-2.91,7.03s1.05,5.17,2.91,7.03l23.63,23.64c1.86,1.86,4.39,2.91,7.03,2.91s5.17-1.05,7.03-2.91l23.64-23.64c1.86-1.86,2.91-4.39,2.91-7.03s-1.05-5.17-2.91-7.03l-23.64-23.64c-1.86-1.86-4.39-2.91-7.03-2.91s-5.17,1.05-7.03,2.91l-23.63,23.64Z"
      />
      <path
        className="st0"
        d="M114.6,204.07c-1.86,1.86-2.91,4.39-2.91,7.03s1.05,5.17,2.91,7.03l23.64,23.64c1.86,1.86,4.39,2.91,7.03,2.91s5.17-1.05,7.03-2.91l23.64-23.64c1.86-1.86,2.91-4.39,2.91-7.03s-1.05-5.17-2.91-7.03l-23.64-23.64c-1.86-1.86-4.39-2.91-7.03-2.91s-5.17,1.05-7.03,2.91l-23.64,23.64Z"
      />
      <path
        className="st0"
        d="M180.43,269.9c-.92.92-1.66,2.02-2.16,3.23-.5,1.21-.76,2.5-.76,3.81s.26,2.6.76,3.81c.5,1.21,1.23,2.3,2.16,3.23l23.64,23.63c1.86,1.86,4.39,2.91,7.03,2.91s5.17-1.05,7.03-2.91l23.64-23.63c.92-.92,1.66-2.02,2.16-3.23.5-1.21.76-2.5.76-3.81s-.26-2.6-.76-3.81c-.5-1.21-1.23-2.3-2.16-3.23l-23.64-23.63c-1.86-1.86-4.39-2.91-7.03-2.91s-5.17,1.05-7.03,2.91l-23.64,23.63Z"
      />
      <path
        className="st0"
        d="M180.43,138.24c-1.86,1.86-2.91,4.39-2.91,7.03s1.05,5.17,2.91,7.03l23.64,23.63c1.86,1.86,4.39,2.91,7.03,2.91s5.17-1.05,7.03-2.91l23.64-23.63c1.86-1.86,2.91-4.39,2.91-7.03s-1.05-5.17-2.91-7.03l-23.64-23.64c-1.86-1.86-4.39-2.91-7.03-2.91s-5.17,1.05-7.03,2.91l-23.64,23.64Z"
      />
    </g>
  </Box>
);

const Icon7 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 436.56 380.09"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="323.67 7.5 112.89 7.5 7.5 190.04 112.89 372.59 323.67 372.59 429.06 190.04 323.67 7.5"
    />
    <path
      className="st0"
      d="M218.28,136.58v-35.64h-35.64M129.18,190.04h17.82M191.55,181.13v17.82M245.01,181.13v17.82M289.57,190.04h17.82M182.64,243.51l-35.64,35.64v-124.75c0-4.73,1.88-9.26,5.22-12.6,3.34-3.34,7.88-5.22,12.6-5.22h106.93c4.73,0,9.26,1.88,12.6,5.22,3.34,3.34,5.22,7.88,5.22,12.6v71.29c0,4.73-1.88,9.26-5.22,12.6-3.34,3.34-7.88,5.22-12.6,5.22h-89.11Z"
    />
  </Box>
);

const Icon8 = ({ className = "w-16 h-16", ...props }) => (
  <Box
    component="svg"
    className={className}
    viewBox="0 0 422.2 422.2"
    xmlns="http://www.w3.org/2000/svg"
    {...props}
  >
    <defs>
      <style>
        {`.st0 { fill: none; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }
         .st1 { fill: #cec8e5; stroke: #3a2781; stroke-linecap: round; stroke-linejoin: round; stroke-width: 15px; }`}
      </style>
    </defs>
    <polygon
      className="st1"
      points="414.7 156.55 265.65 7.5 62.05 62.05 7.5 265.65 156.55 414.7 360.15 360.15 414.7 156.55"
    />
    <g>
      <path
        className="st0"
        d="M213.23,114.31h-4.26c-5.13,0-10.06,2.04-13.69,5.67-3.63,3.63-5.67,8.55-5.67,13.69v1.74c0,3.39-.9,6.73-2.6,9.67-1.7,2.94-4.14,5.38-7.08,7.08l-4.16,2.42c-2.94,1.7-6.28,2.59-9.68,2.59s-6.74-.89-9.68-2.59l-1.45-.77c-4.44-2.56-9.72-3.26-14.67-1.93-4.95,1.32-9.18,4.56-11.75,9l-2.13,3.68c-2.56,4.44-3.26,9.72-1.93,14.67,1.32,4.95,4.56,9.18,9,11.75l1.45.97c2.93,1.69,5.36,4.11,7.06,7.04,1.7,2.92,2.6,6.23,2.62,9.61v4.94c.01,3.41-.87,6.77-2.57,9.72-1.7,2.96-4.15,5.41-7.11,7.12l-1.45.87c-4.44,2.57-7.67,6.8-9,11.75s-.63,10.23,1.93,14.67l2.13,3.68c2.57,4.44,6.8,7.67,11.75,9,4.95,1.32,10.23.63,14.67-1.93l1.45-.77c2.94-1.7,6.28-2.59,9.68-2.59s6.74.89,9.68,2.59l4.16,2.42c2.94,1.7,5.38,4.14,7.08,7.08,1.7,2.94,2.59,6.27,2.6,9.67v1.74c0,5.13,2.04,10.06,5.67,13.69,3.63,3.63,8.55,5.67,13.69,5.67h4.26c5.13,0,10.06-2.04,13.69-5.67,3.63-3.63,5.67-8.55,5.67-13.69v-1.74c0-3.39.9-6.73,2.6-9.67,1.7-2.94,4.14-5.38,7.08-7.08l4.16-2.42c2.94-1.7,6.28-2.59,9.68-2.59s6.74.89,9.68,2.59l1.45.77c4.44,2.56,9.72,3.26,14.67,1.93,4.95-1.33,9.18-4.56,11.75-9l2.13-3.77c2.56-4.44,3.26-9.72,1.93-14.67-1.33-4.95-4.56-9.18-9-11.75l-1.45-.77c-2.95-1.71-5.41-4.16-7.11-7.12-1.7-2.96-2.59-6.31-2.57-9.72v-4.84c-.01-3.41.88-6.77,2.57-9.72,1.7-2.96,4.15-5.41,7.11-7.12l1.45-.87c4.44-2.57,7.67-6.8,9-11.75,1.32-4.95.63-10.23-1.93-14.67l-2.13-3.68c-2.57-4.44-6.8-7.67-11.75-9-4.96-1.32-10.23-.63-14.67,1.93l-1.45.77c-2.94,1.7-6.28,2.59-9.68,2.59s-6.74-.89-9.68-2.59l-4.16-2.42c-2.94-1.7-5.38-4.14-7.08-7.08-1.7-2.94-2.59-6.27-2.6-9.67v-1.74c0-5.13-2.04-10.06-5.67-13.69-3.63-3.63-8.55-5.67-13.69-5.67Z"
      />
      <path
        className="st0"
        d="M211.1,240.13c16.04,0,29.04-13,29.04-29.04s-13-29.04-29.04-29.04-29.04,13-29.04,29.04,13,29.04,29.04,29.04Z"
      />
    </g>
  </Box>
);

export const Loader = ({ classNames, sx, ...props }) => {
  const [currentIcon, setCurrentIcon] = useState(0);
  const icons = [Icon1, Icon2, Icon3, Icon4, Icon5, Icon6, Icon7, Icon8];

  useEffect(() => {
    const interval = setInterval(() => {
      setCurrentIcon((prev) => (prev + 1) % icons.length);
    }, 100);

    return () => clearInterval(interval);
  }, [icons.length]);

  const CurrentIconComponent = icons[currentIcon];

  return (
    <CurrentIconComponent
      className={cn("w-full h-full transition-opacity duration-75", classNames)}
      sx={{
        width: "100%",
        height: "100%",
        transition: "opacity 75ms ease-in-out",
        ...sx,
      }}
      {...props}
    />
  );
};
